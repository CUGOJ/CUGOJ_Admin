@page "/UserManage"
@using Microsoft.AspNetCore.Identity
@attribute [Authorize(Roles ="Admin")]
@inject UserManager<IdentityUser> UserManager
@inject ToastService ToastService

<Card>
    <CardBody>
        <div class="row mt-3 form-inline">
            <div class="col-6">
                <BootstrapInput @bind-Value="username" PlaceHolder="用户名"> </BootstrapInput>
            </div>
            <div class="col-3">
                <Checkbox @bind-Value="IsAdmin" State="CheckboxState.UnChecked" DisplayText="管理员" ShowLabel=true></Checkbox>
            </div>
            <div class="col-3">
                <Checkbox @bind-Value="ReNewPassword" State="CheckboxState.UnChecked" DisplayText="重置密码" ShowLabel=true></Checkbox>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-6">
                <Button OnClick="@(async ()=>await SaveUser(true))">新建用户</Button>
            </div>
            <div class="col-6">
                <Button OnClick="@(async ()=>await SaveUser(false))">保存用户</Button>
            </div>
        </div>
        <div class="row mt-3">
            新用户默认密码为 'CUGOJcugoj_01' ，重置密码后密码为 'CUGOJcugoj_01'
        </div>
    </CardBody>
</Card>

